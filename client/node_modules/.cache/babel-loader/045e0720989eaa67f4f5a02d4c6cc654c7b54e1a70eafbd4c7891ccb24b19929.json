{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isReady, setIsReady] = useState(false);\n  const login = useCallback((jwtToken, id) => {\n    setToken(jwtToken);\n    setUserId(id);\n    localStorage.setItem('userData', JSON.stringify({\n      userId: id,\n      token: jwtToken\n    }));\n    console.log('Heres tthe token set with login');\n  }, []);\n  const logout = () => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem('userData');\n  };\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem('userData'));\n    if (data && data.token) {\n      login(data.token, data.userId);\n    }\n    setIsReady(true);\n    console.log(data);\n  }, [login]);\n  return {\n    login,\n    logout,\n    token,\n    userId,\n    isReady\n  };\n};\n_s(useAuth, \"UB1v0CJKf2GXs4J49oRpsfsh4xA=\");","map":{"version":3,"names":["useState","useEffect","useCallback","useAuth","token","setToken","userId","setUserId","isReady","setIsReady","login","jwtToken","id","localStorage","setItem","JSON","stringify","console","log","logout","removeItem","data","parse","getItem"],"sources":["/Users/semen/Desktop/Organaizer Application/client/src/hooks/auth.hook.js"],"sourcesContent":["import {useState, useEffect, useCallback} from \"react\";\n\nexport const useAuth = () => {\n    const [token, setToken] = useState(null)\n    const [userId, setUserId] = useState(null)\n    const [isReady, setIsReady] = useState(false)\n\n    const login = useCallback((jwtToken, id) => {\n        setToken(jwtToken)\n        setUserId(id)\n        localStorage.setItem('userData', JSON.stringify({\n            userId: id,\n            token: jwtToken\n        }))\n        console.log('Heres tthe token set with login')\n    }, [])\n\n    const logout = () => {\n        setToken(null)\n        setUserId(null)\n        localStorage.removeItem('userData')\n    }\n\n    useEffect(() => {\n        const data = JSON.parse(localStorage.getItem('userData'))\n        if (data && data.token){\n            login(data.token, data.userId)\n        }\n        setIsReady(true)\n        console.log(data)\n    }, [login])\n\n\n    return {login, logout, token, userId, isReady}\n}\n\n"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAO,OAAO;AAEtD,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;EACzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMU,KAAK,GAAGR,WAAW,CAAC,CAACS,QAAQ,EAAEC,EAAE,KAAK;IACxCP,QAAQ,CAACM,QAAQ,CAAC;IAClBJ,SAAS,CAACK,EAAE,CAAC;IACbC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC;MAC5CV,MAAM,EAAEM,EAAE;MACVR,KAAK,EAAEO;IACX,CAAC,CAAC,CAAC;IACHM,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAClD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,MAAM,GAAG,MAAM;IACjBd,QAAQ,CAAC,IAAI,CAAC;IACdE,SAAS,CAAC,IAAI,CAAC;IACfM,YAAY,CAACO,UAAU,CAAC,UAAU,CAAC;EACvC,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACZ,MAAMoB,IAAI,GAAGN,IAAI,CAACO,KAAK,CAACT,YAAY,CAACU,OAAO,CAAC,UAAU,CAAC,CAAC;IACzD,IAAIF,IAAI,IAAIA,IAAI,CAACjB,KAAK,EAAC;MACnBM,KAAK,CAACW,IAAI,CAACjB,KAAK,EAAEiB,IAAI,CAACf,MAAM,CAAC;IAClC;IACAG,UAAU,CAAC,IAAI,CAAC;IAChBQ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;EACrB,CAAC,EAAE,CAACX,KAAK,CAAC,CAAC;EAGX,OAAO;IAACA,KAAK;IAAES,MAAM;IAAEf,KAAK;IAAEE,MAAM;IAAEE;EAAO,CAAC;AAClD,CAAC;AAAA,GAhCYL,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}