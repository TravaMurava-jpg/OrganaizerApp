{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isReady, setIsReady] = useState(false);\n  const login = useCallback((jwtToken, id) => {\n    setToken(jwtToken);\n    setUserId(id);\n    localStorage.setItem('userData', JSON.stringify({\n      userId: id,\n      token: jwtToken\n    }));\n  }, []);\n  const logout = () => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem('userData');\n  };\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem('userData'));\n    if (data && data.token) {\n      login(data.token, data.userId);\n    }\n    setIsReady(true);\n  }, [login]);\n  return {\n    login,\n    logout,\n    token,\n    userId,\n    isReady\n  };\n};\n_s(useAuth, \"UB1v0CJKf2GXs4J49oRpsfsh4xA=\");","map":{"version":3,"names":["useState","useEffect","useCallback","useAuth","token","setToken","userId","setUserId","isReady","setIsReady","login","jwtToken","id","localStorage","setItem","JSON","stringify","logout","removeItem","data","parse","getItem"],"sources":["/Users/semen/Desktop/Organaizer Application/client/src/hooks/auth.hook.js"],"sourcesContent":["import {useState, useEffect, useCallback} from \"react\";\n\nexport const useAuth = () => {\n    const [token, setToken] = useState(null)\n    const [userId, setUserId] = useState(null)\n    const [isReady, setIsReady] = useState(false)\n\n    const login = useCallback((jwtToken, id) => {\n        setToken(jwtToken)\n        setUserId(id)\n        localStorage.setItem('userData', JSON.stringify({\n            userId: id,\n            token: jwtToken\n        }))\n    }, [])\n\n    const logout = () => {\n        setToken(null)\n        setUserId(null)\n        localStorage.removeItem('userData')\n    }\n\n    useEffect(() => {\n        const data = JSON.parse(localStorage.getItem('userData'))\n        if (data && data.token){\n            login(data.token, data.userId)\n        }\n        setIsReady(true)\n    }, [login])\n\n    \n    return {login, logout, token, userId, isReady}\n}\n\n"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAO,OAAO;AAEtD,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;EACzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMU,KAAK,GAAGR,WAAW,CAAC,CAACS,QAAQ,EAAEC,EAAE,KAAK;IACxCP,QAAQ,CAACM,QAAQ,CAAC;IAClBJ,SAAS,CAACK,EAAE,CAAC;IACbC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC;MAC5CV,MAAM,EAAEM,EAAE;MACVR,KAAK,EAAEO;IACX,CAAC,CAAC,CAAC;EACP,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,MAAM,GAAG,MAAM;IACjBZ,QAAQ,CAAC,IAAI,CAAC;IACdE,SAAS,CAAC,IAAI,CAAC;IACfM,YAAY,CAACK,UAAU,CAAC,UAAU,CAAC;EACvC,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACZ,MAAMkB,IAAI,GAAGJ,IAAI,CAACK,KAAK,CAACP,YAAY,CAACQ,OAAO,CAAC,UAAU,CAAC,CAAC;IACzD,IAAIF,IAAI,IAAIA,IAAI,CAACf,KAAK,EAAC;MACnBM,KAAK,CAACS,IAAI,CAACf,KAAK,EAAEe,IAAI,CAACb,MAAM,CAAC;IAClC;IACAG,UAAU,CAAC,IAAI,CAAC;EACpB,CAAC,EAAE,CAACC,KAAK,CAAC,CAAC;EAGX,OAAO;IAACA,KAAK;IAAEO,MAAM;IAAEb,KAAK;IAAEE,MAAM;IAAEE;EAAO,CAAC;AAClD,CAAC;AAAA,GA9BYL,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}