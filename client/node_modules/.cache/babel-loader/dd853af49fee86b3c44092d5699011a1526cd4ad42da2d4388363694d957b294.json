{"ast":null,"code":"var _jsxFileName = \"/Users/semen/Desktop/Organaizer Application/client/src/pages/AllGroups/AllGroups.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './AllGroups.scss';\nimport axios from 'axios';\nimport { useEffect, useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AllGroups = () => {\n  _s();\n  const [groups, setGroups] = useState([]);\n  const {\n    userId\n  } = useContext(AuthContext);\n  const getGroups = async () => {\n    try {\n      await axios.get('api/groups', {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        params: {\n          userId\n        }\n      }).then(response => setGroups(response.data));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const applyGroup = async id => {\n    try {\n      await axios.put(`api/groups/groups/${id}`, {\n        id,\n        userId\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        setGroups([...groups], response.data);\n        getGroups();\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getGroups();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"All groups\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todos\",\n        children: [groups.map((groups, index) => {\n          let cls = [\"col todos-text\"];\n          var isInGroup = false;\n          groups.users.forEach(function (item) {\n            if (item.userId == userId) {\n              isInGroup = !isInGroup;\n            }\n          });\n          console.log(groups.users);\n          if (isInGroup) {\n            cls.push(\"green-text\");\n            isInGroup = true;\n          }\n          console.log(isInGroup);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row flex todos-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col todos-num\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: cls.join(' '),\n              children: groups.groupName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), isInGroup ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col todos-buttons\",\n              children: \"You are already in this group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 42\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col todos-buttons blue-text\",\n              onClick: () => applyGroup(groups._id),\n              children: \"Apply to a group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 117\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col todos-text\",\n          children: \"Green groups are your current groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(AllGroups, \"WAQ3qGVrVm6UqZsm+UO2ZqnMwAo=\");\n_c = AllGroups;\nexport default AllGroups;\nvar _c;\n$RefreshReg$(_c, \"AllGroups\");","map":{"version":3,"names":["React","useState","axios","useEffect","useContext","AuthContext","AllGroups","groups","setGroups","userId","getGroups","get","headers","params","then","response","data","error","console","log","applyGroup","id","put","map","index","cls","isInGroup","users","forEach","item","push","join","groupName","_id"],"sources":["/Users/semen/Desktop/Organaizer Application/client/src/pages/AllGroups/AllGroups.jsx"],"sourcesContent":["import React, {useState} from 'react'\nimport './AllGroups.scss'\nimport axios from 'axios'\nimport { useEffect, useContext} from 'react'\nimport { AuthContext } from '../../context/AuthContext'\n\nconst AllGroups = () => {\n\n    const [groups, setGroups] = useState([])\n    const {userId} = useContext(AuthContext)\n\nconst getGroups = async () =>{\n    try {\n        await axios.get('api/groups', {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {userId}\n        })\n        .then((response) => setGroups(response.data))\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nconst applyGroup = async(id) => {\n    try {\n        await axios.put(`api/groups/groups/${id}`, {id, userId}, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n        .then(response => {\n            setGroups([...groups], response.data)\n            getGroups()\n        })\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nuseEffect(() => {\n    getGroups()\n}, [])\n\n\nreturn(\n    <div className='container'>\n        <div className='main-page'>\n\n        <h3>All groups</h3>\n            <div className=\"todos\">\n                {\n                    groups.map((groups, index) => {\n                        let cls = [\"col todos-text\"]\n                        var isInGroup = false\n                        groups.users.forEach(function(item){\n                            if(item.userId == userId){\n                                isInGroup = !isInGroup\n                            }\n                        })\n                        console.log(groups.users)\n                        if(isInGroup){\n                            cls.push(\"green-text\")\n\n                            isInGroup = true\n                        }\n                        console.log(isInGroup)\n                        return(\n                            \n                        <div className=\"row flex todos-item\" key={index}>\n                            <div className=\"col todos-num\">{index+1}</div>\n                            <div className={cls.join(' ')}>{groups.groupName}</div>\n                           {isInGroup ? (<div className=\"col todos-buttons\">You are already in this group</div>) : (<div className=\"col todos-buttons blue-text\" onClick={() => applyGroup(groups._id)}>Apply to a group</div>)}\n                            \n                </div>\n                    )}\n                    )}\n                    <div className='col todos-text'>Green groups are your current groups</div>\n            </div>\n            \n        </div>\n        \n    </div>\n)\n\n}\n\nexport default AllGroups\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}